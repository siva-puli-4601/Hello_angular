<div class="chat-layout">
    <!-- Sidebar for previous chats -->
    <div class="sidebar">
      <h3>Previous Chats</h3>
      <ul>
        <li *ngFor="let chat of previousChats; let i = index" (click)="loadChat(i)">
          Chat {{ i + 1 }} ({{ chat.date | date: 'short' }})
        </li>
      </ul>
    </div>
  
    <!-- Main chat container -->
    <div class="main-chat-container">
      <!-- Theme toggle button in the top-right of the chat box -->
      <div class="theme-toggle">
        <button (click)="toggleTheme()">
          {{ isDarkTheme ? 'ðŸŒž Light' : 'ðŸŒ™ Dark' }}
        </button>
      </div>
  
      <div class="chat-box">
        <!-- Chat messages -->
        <div *ngFor="let message of currentChat.messages" class="message-wrapper" [ngClass]="{'user-wrapper': message.sender === 'user', 'bot-wrapper': message.sender === 'bot'}">
          <div class="message" [ngClass]="{'user-message': message.sender === 'user', 'bot-message': message.sender === 'bot'}">
            <div class="message-text">{{ message.text }}</div>
          </div>
        </div>
      </div>
  
      <!-- Chat input area -->
      <div class="chat-input-container">
        <textarea #userInput  placeholder="Type your message..." rows="1"></textarea>
        <button (click)="sendMessage(userInput)">Send</button>
        <button (click)="saveChat()">Save</button>
      </div>
    </div>
</div>
  